#%RAML 1.0
title: Data Base System Api
version: v1
baseUri: /api/costumers
mediaType: application/json

types:
  CustomerDBIn:
    type: object
    properties:
      externalId: string
      firstName: string
      lastName: string
      email?: string
      phone?: string
      birthDate?: date-only
      city?: string
      state?: string
      country?: string
    example:
      externalId: "CUST-002"
      firstName: "Luis"
      lastName: "Martínez"
      email: "luis.martinez@example.com"
      phone: "+573001234568"
      birthDate: 1988-02-20
      city: "Medellín"
      state: "Antioquia"
      country: "Colombia"

  CustomerDBOut:
    type: object
    properties:
      id: string
      externalId: string
      salesforceId?: string
      syncStatus: string
      createdAt: datetime
      updatedAt: datetime
    example:
      id: "2"
      externalId: "CUST-002"
      salesforceId: "001xx000003DGX2AAO"
      syncStatus: "pending"
      createdAt: 2025-09-01T10:00:00Z
      updatedAt: 2025-09-01T10:00:00Z

/customers:
  get:
    description: Get all customers from DB
    responses:
      200:
        body:
          application/json:
            type: CustomerDBOut[]
  post:
    description: Insert a customer into DB
    body:
      application/json:
        type: CustomerDBIn
    responses:
      201:
        body:
          application/json:
            type: CustomerDBOut

/customers/{id}:
  get:
    description: Get customer by ID
    responses:
      200:
        body:
          application/json:
            type: CustomerDBOut
